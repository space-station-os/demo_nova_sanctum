(function(){"use strict";var t={2896:function(t,n,s){var e=s(5130),a=s(6768),o=s(4232);const r={class:"dashboard-layout"};function i(t,n,s,e,i,c){const u=(0,a.g2)("StatusHUD"),l=(0,a.g2)("Tank"),d=(0,a.g2)("Pipe"),m=(0,a.g2)("EmergencyPopup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",{style:(0,o.Tr)(c.backgroundStyle)},[n[1]||(n[1]=(0,a.Lk)("h1",null,"ðŸ›°ï¸ ISS Air Revitalization Dashboard",-1)),(0,a.bF)(u,{status:i.mainStatus,mode:i.systemMode,temperature:i.temperature,pressure:i.pressure,stlStatus:i.stlStatus},null,8,["status","mode","temperature","pressure","stlStatus"]),(0,a.Lk)("div",r,[(0,a.bF)(l,{label:"Air Collector",co2:i.co2_mass,moisture:i.moisture_content,contaminants:i.contaminants,capacity:1e3},null,8,["co2","moisture","contaminants"]),(0,a.bF)(d),(0,a.bF)(l,{label:"Desiccant Bed",co2:i.desiccant_co2,moisture:i.desiccant_moisture,contaminants:i.desiccant_contaminants,capacity:1e3},null,8,["co2","moisture","contaminants"]),(0,a.bF)(d),(0,a.bF)(l,{label:"Adsorbent Bed",co2:i.adsorbent_co2,moisture:i.adsorbent_moisture,contaminants:i.adsorbent_contaminants,capacity:1e3},null,8,["co2","moisture","contaminants"])])],4),(0,a.bF)(m,{show:i.emergencyActive,onDismiss:n[0]||(n[0]=t=>i.emergencyActive=!1)},null,8,["show"])],64)}const c={class:"schematic-tank"},u={class:"tank-header"},l={class:"tank-body"},d={class:"tank-readout"};function m(t,n,s,e,r,i){return(0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",u,(0,o.v_)(s.label),1),(0,a.Lk)("div",l,[(0,a.Lk)("div",{class:"contaminants-layer",style:(0,o.Tr)({height:i.contaminantsHeight+"%"})},null,4),(0,a.Lk)("div",{class:"moisture-layer",style:(0,o.Tr)({height:i.moistureHeight+"%"})},null,4),(0,a.Lk)("div",{class:"co2-layer",style:(0,o.Tr)({height:i.co2Height+"%"})},null,4)]),(0,a.Lk)("div",d,[(0,a.Lk)("p",null,[n[0]||(n[0]=(0,a.Lk)("strong",null,"COâ‚‚:",-1)),(0,a.eW)(" "+(0,o.v_)(s.co2.toFixed(2))+" g",1)]),(0,a.Lk)("p",null,[n[1]||(n[1]=(0,a.Lk)("strong",null,"Moisture:",-1)),(0,a.eW)(" "+(0,o.v_)(s.moisture.toFixed(2))+"%",1)]),(0,a.Lk)("p",null,[n[2]||(n[2]=(0,a.Lk)("strong",null,"Contaminants:",-1)),(0,a.eW)(" "+(0,o.v_)(s.contaminants.toFixed(2))+"%",1)])])])}var p={name:"Ars-Tank",props:["label","co2","moisture","contaminants","capacity"],computed:{totalContent(){return this.co2+this.moisture+this.contaminants},co2Height(){return Math.min(this.co2/this.totalContent*100,100)},moistureHeight(){return Math.min(this.moisture/this.totalContent*100,100)},contaminantsHeight(){return Math.min(this.contaminants/this.totalContent*100,100)}}},h=s(1241);const v=(0,h.A)(p,[["render",m],["__scopeId","data-v-3223064a"]]);var b=v;const _={class:"pipe"};function k(t,n,s,e,o,r){return(0,a.uX)(),(0,a.CE)("div",_)}var g={name:"PipeConnection"};const f=(0,h.A)(g,[["render",k],["__scopeId","data-v-6a3602b5"]]);var L=f;const y={class:"hud-container"},S={class:"core-status"},C={class:"status-block"},A={class:"status-block"},O={class:"status-block"},w={class:"status-block"},E={class:"stl-panel"},T={class:"stl-grid"};function F(t,n,s,e,r,i){return(0,a.uX)(),(0,a.CE)("div",y,[(0,a.Lk)("div",S,[(0,a.Lk)("div",C,[n[0]||(n[0]=(0,a.Lk)("label",null,"Status:",-1)),n[1]||(n[1]=(0,a.eW)()),(0,a.Lk)("span",null,(0,o.v_)(s.status),1)]),(0,a.Lk)("div",A,[n[2]||(n[2]=(0,a.Lk)("label",null,"Mode:",-1)),n[3]||(n[3]=(0,a.eW)()),(0,a.Lk)("span",null,(0,o.v_)(s.mode),1)]),(0,a.Lk)("div",O,[n[4]||(n[4]=(0,a.Lk)("label",null,"Temp:",-1)),n[5]||(n[5]=(0,a.eW)()),(0,a.Lk)("span",null,(0,o.v_)(s.temperature)+" Â°C",1)]),(0,a.Lk)("div",w,[n[6]||(n[6]=(0,a.Lk)("label",null,"Pressure:",-1)),n[7]||(n[7]=(0,a.eW)()),(0,a.Lk)("span",null,(0,o.v_)(s.pressure)+" psi",1)])]),(0,a.Lk)("div",E,[n[8]||(n[8]=(0,a.Lk)("h3",null,"ðŸ§ª STL Monitor",-1)),(0,a.Lk)("div",T,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.stlStatus,((t,n)=>((0,a.uX)(),(0,a.CE)("div",{key:n,class:(0,o.C4)(["stl-entry",t.toLowerCase()])},[(0,a.Lk)("span",{class:(0,o.C4)(["led",t.toLowerCase()])},null,2),(0,a.eW)(" "+(0,o.v_)(n.replaceAll("_"," ").toUpperCase())+": ",1),(0,a.Lk)("strong",null,(0,o.v_)(t),1)],2)))),128))])])])}var I={props:{status:String,mode:String,temperature:Number,pressure:Number,stlStatus:Object}};const P=(0,h.A)(I,[["render",F],["__scopeId","data-v-0cae48ea"]]);var x=P;const D={key:0,class:"emergency-popup"},H={class:"popup-box"};function M(t,n,s,e,o,r){return s.show?((0,a.uX)(),(0,a.CE)("div",D,[(0,a.Lk)("div",H,[n[1]||(n[1]=(0,a.Lk)("h1",null,"ðŸš¨ EMERGENCY!",-1)),n[2]||(n[2]=(0,a.Lk)("p",null,[(0,a.eW)(" A subsystem has entered "),(0,a.Lk)("strong",null,"CODE RED"),(0,a.eW)(" status. Immediate action required. ")],-1)),(0,a.Lk)("button",{onClick:n[0]||(n[0]=(...t)=>r.dismiss&&r.dismiss(...t))},"Acknowledge")])])):(0,a.Q3)("",!0)}var W={props:["show"],emits:["dismiss"],methods:{dismiss(){this.$emit("dismiss")}}};const j=(0,h.A)(W,[["render",M],["__scopeId","data-v-5dabf5d6"]]);var R=j,X={components:{Tank:b,Pipe:L,StatusHUD:x,EmergencyPopup:R},data(){return{ros:null,co2_mass:0,moisture_content:0,contaminants:0,desiccant_co2:0,desiccant_moisture:0,desiccant_contaminants:0,adsorbent_co2:0,adsorbent_moisture:0,adsorbent_contaminants:0,imgUrl:"/assets/iss_bg.jpg",mainStatus:"Nominal",systemMode:"Idle",temperature:72,pressure:14.5,stlStatus:{collector:"PASS",desiccant_moisture:"PASS",desiccant_contaminants:"PASS",adsorbent:"PASS"},emergencyActive:!1}},computed:{backgroundStyle(){return{backgroundImage:`url(${this.imgUrl})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",minHeight:"100vh",paddingTop:"20px"}}},mounted(){this.ros=new ROSLIB.Ros({url:"ws://localhost:9090"});const t=(t,n)=>{const s=new ROSLIB.Topic({ros:this.ros,name:t,messageType:"demo_nova_sanctum/msg/AirData"});s.subscribe(n)};t("/collector_air_quality",(t=>{this.co2_mass=t.co2_mass,this.moisture_content=t.moisture_content,this.contaminants=t.contaminants})),t("/desiccant_air_quality",(t=>{this.desiccant_co2=t.co2_mass,this.desiccant_moisture=t.moisture_content,this.desiccant_contaminants=t.contaminants})),t("/adsorbent_air_quality",(t=>{this.adsorbent_co2=t.co2_mass,this.adsorbent_moisture=t.moisture_content,this.adsorbent_contaminants=t.contaminants}));const n=new ROSLIB.Topic({ros:this.ros,name:"/stl_monitor/status",messageType:"std_msgs/String"});n.subscribe((t=>{try{const n=JSON.parse(t.data);this.stlStatus=n;const s=Object.values(n);s.includes("CODE_RED")&&(this.emergencyActive=!0)}catch(n){console.error("Failed to parse STL monitor status:",n)}}))}};const B=(0,h.A)(X,[["render",i],["__scopeId","data-v-5192f2d9"]]);var N=B,U=s(1387);const q=[{path:"/",name:"Home",component:N}],z=(0,U.aE)({history:(0,U.LA)(""),routes:q});var K=z;(0,e.Ef)(N).use(K).mount("#app")}},n={};function s(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(n,e,a,o){if(!e){var r=1/0;for(l=0;l<t.length;l++){e=t[l][0],a=t[l][1],o=t[l][2];for(var i=!0,c=0;c<e.length;c++)(!1&o||r>=o)&&Object.keys(s.O).every((function(t){return s.O[t](e[c])}))?e.splice(c--,1):(i=!1,o<r&&(r=o));if(i){t.splice(l--,1);var u=a();void 0!==u&&(n=u)}}return n}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[e,a,o]}}(),function(){s.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(n,{a:n}),n}}(),function(){s.d=function(t,n){for(var e in n)s.o(n,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={524:0};s.O.j=function(n){return 0===t[n]};var n=function(n,e){var a,o,r=e[0],i=e[1],c=e[2],u=0;if(r.some((function(n){return 0!==t[n]}))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(c)var l=c(s)}for(n&&n(e);u<r.length;u++)o=r[u],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(l)},e=self["webpackChunkdashboard_ui"]=self["webpackChunkdashboard_ui"]||[];e.forEach(n.bind(null,0)),e.push=n.bind(null,e.push.bind(e))}();var e=s.O(void 0,[504],(function(){return s(2896)}));e=s.O(e)})();
//# sourceMappingURL=app.c08402ac.js.map